# Pre_identification_platform_integration
预识别平台集成记录——算法通信篇
# 1 通信
-----------------获取前端启动模型信号，解析前端配置文件，配置模型参数，开始进行模型推理信号。
当前 2D预识别 采用 python快速搭建Rest api形式 获取前端的信号，并将其json进行解析处理
（  需要前端提供 以 状态信号， 服务器图片地址 ， 服务器结果地址 等特定字段 保存的json文件 ）
当前  python Rest api 服务代码已初步编写

# 2  数据获取
-----------------解析前端配置文件中推理数据的位置及标签模板信息，通过网络，获取s3服务器特定位置数据（不需要下载），并创建推理结果文件夹 
通过 HTTP流式服务，获取s3服务器图片文件

# 3 模型调用
-----------------通过解析的配置文件信息，配置服务器显卡资源，启动相应的模型文件推理服务器中的数据，对推理的结果文件进行后处理操作。
模型预先加载，显卡资源持续占用，启动本地service监听服务，当获取到模型启动推理信号后， 加载s3服务器数据图片进行推理，并将推理的结果后处理
当前模型正在  推理代码正在优化中，数据加载代码重写中， 

当前模型推理资源需要 ：  3G 红绿灯检测 + 8G 车道线分割 11G显卡资源，且资源持续占用不释放

# 4 数据上传
-----------------将后处理的数据通过网络传输到 相应的服务器相应的推理结果文件夹中。
模型推理完成数据后将 处理后的结果 通过http 传输至数据库，
全部数据推理完成后 ， 通过api 向前端推送推理完成信号。（或更新服务器推理完成日志文件）
![在这里插入图片描述](https://img-blog.csdnimg.cn/dfc1df07de1c48e98dc7a79e75113668.png)

# 5 打包代码
pyinstaller
